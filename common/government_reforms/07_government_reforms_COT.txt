
##Hobgoblin Dictatorship Commandary
#hobgoblin_dictatorship = {
#	icon = "soldiers_5"
#	allow_normal_conversion = no
#	lock_level_when_selected = yes
#	potential = {
#		OR = {
#			AND = {
#				culture_group = hobgoblin
#				NOT = { map_setup = map_setup_random }
#			}
#			AND = {
#				is_playing_custom_nation = yes
#				have_had_reform = hobgoblin_dictatorship
#			}
#		}
#	}
#	trigger = {
#		OR = {
#			is_playing_custom_nation = yes
#			culture_group = hobgoblin
#		}
#	}
#	valid_for_nation_designer = yes
#	nation_designer_cost = 0
#	legacy_equivalent = prussian_monarchy_legacy
#
#	modifiers = {
#		monarch_military_power = 1
#		max_absolutism = 10
#		harsh_treatment_cost = -0.25
#	}
#
#	custom_attributes = {
#		generals_become_rulers = yes
#		locked_government_type = yes
#		maintain_dynasty = yes
#	}
#
#	heir = no
#}

#Lorent gov't reform
lorent_wine_lord_reform = {
	icon = "soldiers_2"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		tag = A01
	}
	
	trigger = {
		OR = {
			tag = A01
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 10
	
	modifiers = {
		nobles_influence_modifier = 0.15
		nobles_loyalty_modifier = 0.05
		diplomatic_upkeep = 2
	}
	effect = {
		custom_tooltip = producing_wine_winelord
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = { trade_goods = wine }
					add_province_modifier = {
						name = wine_lord_wine
						duration = -1
						hidden = yes
					}
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = { has_province_modifier = wine_lord_wine }
				remove_province_modifier = wine_lord_wine
			}
		}
	}
}

#Magisterium Cult of Mages reform
magisterium_cult_of_mages_reform = { # Assume head of the Dame's cult
	icon = "church"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		tag = A85
	}
	
	trigger = {
		ROOT = { mission_completed = A85_cult_of_mages  }
	}
	
	modifiers = {
		church_loyalty_modifier = 0.05
		mages_influence_modifier = 0.05
		same_religion_advisor_cost = -0.1
		tolerance_own = 1
		global_religious_conversion_resistance = 0.9
	}
}

#Magisterium Collegium reform
magisterium_collegium_reform = {
	icon = "clergyman"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		tag = A85
	}
	
	trigger = {
		ROOT = { mission_completed = A85_the_collegium }
	}
	
	conditional = {
		trigger = {
			OR = {
				has_personal_deity = the_dame_1
				has_personal_deity = the_dame_2
				has_personal_deity = the_dame_3
				has_personal_deity = the_dame_4
			}
			NOT = { has_country_flag = magisterium_cot_full_training }
		}
		effect = {
			hidden_effect = {
				country_event = {
					id = flavor_sca.2
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			remove_country_modifier = sca_administrative_focus
			remove_country_modifier = sca_diplomatic_focus
			remove_country_modifier = sca_military_focus
			remove_country_modifier = sca_administrative_focus_non_heir
			remove_country_modifier = sca_diplomatic_focus_non_heir
			remove_country_modifier = sca_military_focus_non_heir
		}
	}
	
	modifiers = {
		monarch_lifespan = 3
	}

	custom_attributes = {
		can_see_theocratic_heir_stats = yes
	}
	
	custom_attributes = {
		education_focus_enabled = yes
	}
}

#Gawed tier 2 reform
gawed_feudal_communities_reform = {
	icon = "soldiers_5"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		tag = A13
	}
	
	trigger = {
		OR = {
			has_reform = gawed_feudal_communities_reform
			have_had_reform = gawed_feudal_communities_reform
		}
	}
	
	modifiers = {
		same_culture_advisor_cost = -0.1
		num_accepted_cultures = 2 				# Add modifier that gives 2/month duccies, 1 FL, and 2k mp per accepted: Old Alenic, Eaglecrester, Vertesk, Moorman, and Blue Reachmen. If possible make it so when you have all 5 you instead get unified mod giving 10/month duccies 5k fl, and 10k mp (one extra FL)
		all_estate_loyalty_equilibrium = 0.05
	}
}

#Gawed tier 1 bad reform
gawed_shattered_eagle_reform = {
	icon = "soldiers_4"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		tag = A13
		NOT = { mission_completed = gawed_the_gawedi_empire }
	}
	
	trigger = {
		tag = A13
		NOT = { mission_completed = gawed_the_gawedi_empire }
	}
	
	modifiers = {
		manpower_in_own_culture_provinces = 0.1
		manpower_in_culture_group_provinces = -0.2
		prestige_decay = 0.01
		all_estate_influence_modifier = 0.1
		promote_culture_cost = 0.5
		reduced_liberty_desire = -10
		ae_impact = -0.1
	}
}

#Gawed tier 1 northern eagle reform
gawed_eagle_restored_reform = {
	icon = "soldiers_3"
	lock_level_when_selected = yes
	potential = { tag = A13 }
	
	trigger = {
		culture_group = alenic
		tag = A13
		mission_completed = gawed_the_gawedi_empire
		NOT = { is_year = 1600 }
	}
	
	modifiers = {
		global_tax_modifier = 0.2
		manpower_in_own_culture_provinces = 0.1
		prestige_decay = -0.01
	}
}

#Gawed tier 1 bloody eagle reform (northern league alt 1)
gawed_bloody_eagle_reform = {
	icon = "soldiers_4"
	lock_level_when_selected = yes
	potential = {
		tag = A13
		has_country_flag = gawed_bloody_flag
		is_year = 1600
	}
	
	trigger = {
		culture_group = alenic
		tag = A13
		has_country_flag = gawed_bloody_flag
	}
	
	modifiers = {
		global_unrest = 2
		development_cost_in_primary_culture = -0.1
		manpower_in_culture_group_provinces = 0.25
		culture_conversion_cost = -0.1
		years_of_nationalism = -10
		governing_capacity = 350
		has_streltsy = yes
		allowed_streltsy_fraction = 0.1
	}
}

#Gawed tier 1 iron eagle reform (northern league alt 2)
gawed_iron_eagle_reform = {
	icon = "soldiers_3"
	lock_level_when_selected = yes
	potential = {
		tag = A13
		has_country_flag = gawed_iron_flag
		is_year = 1600
	}
	
	trigger = {
		culture_group = alenic
		tag = A13
		has_country_flag = gawed_iron_flag
	}
	
	modifiers = {
		allow_free_estate_privilege_revocation = yes
		max_absolutism = 25
		development_cost = -0.05
		manpower_in_own_culture_provinces = 0.2
		land_forcelimit_modifier = -0.1
		has_streltsy = yes
		allowed_streltsy_fraction = 0.3
		governing_capacity = 350
	}
}

#Wex reform
wex_wexonard_grand_duchy_reform = {
	icon = "clergyman"
	lock_level_when_selected = yes
	potential = {
		tag = A30
	}
	
	trigger = {
		tag = A30
	}
	
	modifiers = {
		manpower_recovery_speed = 0.10
		heir_chance = 0.5
		yearly_corruption = -0.10
		reasons_to_elect = 5 # counters not being anbennarian
	}
	
	custom_attributes = {
		maintain_dynasty = yes
	}
}

#Wex tier 2
wex_early_industry_reform = {
	icon = "paper_money_map"
	potential = {
		primary_culture = wexonard
	}
	
	trigger = {
		primary_culture = wexonard
	}
	
	modifiers = {
		# unlocks decision-fired event to convert province (specific provinces in the border) 
		expand_infrastructure_cost_modifier = -0.25
	}
}

#Wex tier 8
wex_industrialization_reform = {
	icon = "states_general"
	potential = {
		primary_culture = wexonard
	}
	
	trigger = {
		primary_culture = wexonard
		mission_completed = A30_expand_heartland
	}
	
	modifiers = {
		development_cost_in_primary_culture = -0.05
		global_allowed_num_of_manufactories = 1
	}
}

##############################################
# Orda Aldresia
##############################################

#Orda Tier 1
cot_orda_aldresia_reform = {
	icon = "soldiers_5"
	potential = {
		tag = A77
	}
	
	trigger = {
		tag = A77
	}
	
	modifiers = {
		#The Good
		monarch_military_power = 1
		leader_land_shock = 1
		may_recruit_female_generals = yes
		#The Bad 
		manpower_recovery_speed = -0.10
		reinforce_speed = -0.10
		governing_capacity_modifier = -0.10
	}
	
	custom_attributes = {
		generals_become_rulers = yes
		locked_government_type = yes
	}
	
	heir = no
}

# Orda T2 Serve Empire
cot_imperial_orda_reform = {
	icon = "soldiers_4"
	potential = {
		tag = A77
	}
	
	trigger = {
		tag = A77
	}
	
	modifiers = {
		land_morale = 0.10
		recover_army_morale_speed = -0.1
		#relation_with_same_culture_group = 20 #Clutter
	}
}

# Orda T2 Serve Emperor
cot_emperor_orda_reform = {
	icon = "soldiers_3"
	potential = {
		tag = A77
	}
	
	trigger = {
		tag = A77
		NOT = {
			OR = {
				is_rival = emperor
				emperor = { is_rival = ROOT }
			}
		}
	}
	
	modifiers = {
		yearly_army_professionalism = 0.0025
		drill_gain_modifier = 0.10
		land_maintenance_modifier = 0.05
	}
}

#Orda T2 Serve Crusade
cot_crusader_orda_reform = {
	icon = "clergyman"
	potential = {
		tag = A77
	}
	
	trigger = {
		tag = A77
	}
	
	modifiers = {
		land_attrition = -0.1
		war_exhaustion = -0.1
		#enable_forced_march = yes
	}
}

#Orda T3
cot_combat_edu_reform = {
	icon = "church"
	potential = {
		tag = A77
	}
	
	trigger = {
		tag = A77
	}
	
	modifiers = {
		army_tradition_decay = -0.01
	}
}

#Orda Knights T5
cot_orda_knights_reform = {
	icon = "soldiers_4"
	potential = {
		tag = A77
	}
	
	trigger = {
		tag = A77
	}
	
	modifiers = {
		cav_to_inf_ratio = 0.25
		shock_damage_received = -0.10
		reinforce_cost_modifier = 0.10
		reinforce_speed = -0.10
	}
}

#Orda Expanded Order T5
cot_expand_orda_reform = {
	icon = "soldiers_2"
	potential = {
		tag = A77
	}
	
	trigger = {
		tag = A77
	}
	
	modifiers = {
		global_regiment_cost = -0.05
		manpower_in_accepted_culture_provinces = 0.1
	}
}

#Orda Militant Archivists T5
cot_orda_mil_archive_reform = {
	icon = "clergyman"
	potential = {
		tag = A77
	}
	
	trigger = {
		tag = A77
	}
	
	modifiers = {
		mil_tech_cost_modifier = -0.10
		artificers_influence_modifier = 0.1
		allowed_rajput_fraction = 0.1 # artificers (does not enable artificer units, so will only matter whenever they get the estate)
	}
}

#Bludfjell reward
Hattocracy = {
	potential = {
		tag = Z83
	}
	icon = "religious_leader"
	modifiers = {
		global_unrest = 10
		min_local_autonomy = 50
		local_autonomy = -10
		tolerance_own = -5
		monarch_admin_power = -2
		monarch_diplomatic_power = -2
		monarch_military_power = -2
		adm_advisor_cost = -0.5
		dip_advisor_cost = -0.5
		mil_advisor_cost = -0.5
		yearly_corruption = -0.2
		monarch_lifespan = 10
	}	
	lock_level_when_selected = yes
	has_devotion = yes
	rulers_can_be_generals = yes
	heirs_can_be_generals = yes
	valid_for_nation_designer = no
}

##########################################
#Bribing Blum
##########################################

merfolcratic_recruitment_reform = {
	potential = {
		tag = S17
	}
	
	icon = "religious_leader"
	
	modifiers = {
		allowed_marine_fraction = 0.1
		adventurers_loyalty_modifier = 0.2
		republican_tradition = 0.2
		dip_advisor_cost = -0.075
		trade_range_modifier = 0.25
		female_advisor_chance = 0.25
		heir_chance = -0.33 #bro no, don't do it
	}
}

###############Reform for Ragaghekur - Baneful Damned########
consolidation_of_the_oghaprabhi = {
	potential = {
		tag = R50
	}
	
	icon = "council"
	
	modifiers = {
		reform_progress_growth = 0.25
		global_autonomy = -0.01
		global_tax_modifier = 0.1
		nobles_loyalty_modifier = 0.1
	}
}

############### Dusken Concord - Reward for Mjup Baneful Damned (Keep after?) ############
cot_dusken_concord_reform = {
	potential = {
		OR = { 
			tag = V31
			is_subject_of = V31
		}
	}
	
	icon = "council"
	
	modifiers = {
		max_absolutism = 15
		max_absolutism_effect = 0.15
		yearly_absolutism = 5
		national_focus_years = -5
		global_unrest = 2
		move_capital_cost_modifier = 9.99 # events are tied to buffing capital, so makes sense they should freely move it
	}
}

CoT_lake_republic = {
	icon = "constitution"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	potential = {
		tag = J34
	}
	# legacy_equivalent = federal_republic_legacy
	valid_for_nation_designer = yes
	nation_designer_cost = 20
	nation_designer_trigger = {
		always = yes
	}
	modifiers = {
		global_trade_goods_size_modifier = 0.1
		candidate_random_bonus = 3
		advisor_cost = -0.10
		reelection_cost = 0.33
		max_absolutism = -35
		governing_capacity = 100
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		republican_name = yes
		has_parliament = yes
	}
	duration = 4
}

orcosti_government = {
	potential = {
		tag = A53
	}
	
	icon = "religious_leader"
	
	modifiers = {
		governing_capacity = 100
		free_policy = 1
		num_accepted_cultures = 2
		
	}
	custom_attributes = {
		queen = yes
	}
}